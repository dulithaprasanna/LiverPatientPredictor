{% extends "material/base.html" %}
{% block content %}

<div class="showcase container green lighten-3">
    <div class="row">
        <div class="col 12 m10 offset-ml center">
            <h2>Iris Species Predictor</h2>
            <p>ML Web App</p>
            <a href="{{ url_for('index')}}" class="btn btn-small green white-text waves-effect waves-dark">Reset</a>
            <a href="{{ url_for('preview')}}" class="btn btn-small white green-text  waves-effect waves-dark">View
                Dataset</a>
        </div>
    </div>

</div>
<br>
<section class="section section-signup">
    <div class="container">
        <div class="row">

            <div class="col s12 m4">
                <div class="card-panel grey lighten-4 grey-text text-darken-4 z-depth-0">
                    <form action="{{url_for('analyze')}}" method="post" class="validate">

                        <div class="input-field ">
                            <label> Sepal Length</label><br>
                            <p class="range-field">
                                <input type="range" min="4" max="8" step="0.1" value="0" name="sepal_length">

                        </div>
                        <div class="input-field ">
                            <label> Sepal Width</label><br>
                            <p class="range-field">
                                <input type="range" min="2" max="8" step="0.1" value="0" name="sepal_width">

                        </div>
                        <div class="input-field ">
                            <label> Petal Length</label><br>
                            <p class="range-field">
                                <input type="range" min="2" max="5" step="0.1" value="0" name="petal_length">

                        </div>
                        <div class="input-field ">
                            <label> Petal Width</label><br>
                            <p class="range-field">
                                <input type="range" min="0" max="7" step="0.1" value="0" name="petal_width">

                        </div>

                        <div class="input-field">

                            <select id="role" name="model_choice">
                                <option value="" disabled selected>Select Model</option>
                                <option value="logitmodel">Logistic Regression</option>
                                <option value="knnmodel">K-Nearest Neighbour</option>
                                <option value="svmmodel">SVM</option>
                            </select>

                        </div>
                        <br>
                        <input type="submit" value="Predict"
                            class="btn btn-small  green black-text  waves-effect waves-dark ">
                        <input type="reset" value="Clear"
                            class="btn btn-small  green black-text  waves-effect waves-dark ">
                    </form>
                </div>
            </div>
            <div class="col s12 m4 offers">
                <div class="card-panel green lighten-4 grey-text text-darken-4 z-depth-0">

                    <p>Sepal Length: {{ sepal_length }}</p>
                    <p>Sepal Width: {{ sepal_width }}</p>
                    <p>Petal Length: {{ petal_length}} </p>
                    <p>Petal Width: {{ petal_width}}</p>
                    Using {{ model_selected }} on {{ clean_data }}

                </div>
            </div>

            <div class="col s12 m4 offers">
                <h5>Prediction</h5>
                <div class="collection" role="alert">
                    <p  class="collection-item active green">Predicted result {{ result_prediction }} </p>
                </div> 
                <div class="card-image waves-effect waves-block">
                    {% if result_prediction == ['versicolor'] %}
                    <img src="static/iris_versicolor.jpg" width="200px" height="200px">
                    {% elif result_prediction == ['sentosa'] %}
                    <img src="static/iris_sentosa.jpg" width="200px" height="200px">
                    {% elif result_prediction == ['virginica'] %}
                    <img src="static/iris_virginica.jpg" width="200px" height="200px">
                    {% else %}
                    <p></p>
                    {% endif %}

                </div>
            </div>      				
        </div>
    </div>
    <div>

    </div>
</section>


{% endblock %}


{% block scripts %}
{{super()}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>

<script>
    // Or with jQuery

    $(document).ready(function () {
        $('select').formSelect();
    });
</script>

{% endblock %}